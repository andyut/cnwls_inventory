<odoo>
    <data>
        <!-- explicit list view definition -->

        <record model="ir.ui.view" id="cnwls_wms_opname_tree">
            <field name="name">cnwls.wms.opname.tree</field>
            <field name="model">cnwls.wms.opname</field>
            <field name="arch" type="xml">
                <tree string="Jurnal Entry" decoration-success="v_sap_status=='closed'" decoration-info="v_sap_status=='open'">
                    <field name="company_id"/>
                    <field name="countdate"/>
                    <field name="ref2"/>
                    <field name="remarks"/>
                    <field name="name"/>
                    <field name="v_sap_status"/>
                    <field name="v_totalqty" sum="totalqty"/>
                    <field name="v_totalvalue" sum="totalvalue" />
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="cnwls_wms_opname_form">
            <field name="name">cnwls.wms.opname_form</field>
            <field name="model">cnwls.wms.opname</field>
            <field name="arch" type="xml">
                <form>
                    <header>

                        <button name="recalcuate" string="Recalculate B1" widget="binary_preview" type="object" class="btn-primary" />
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1"/>
                            </h1>
                            <h2>
                                <field name="company_id" readonly="1"/>
                            </h2>
                        </div>

                        <group string="General Info">
                            <group>
                                <field name="countdate"/>
                                <field name="ref2" />
                                <field name="remarks"/> 
                            </group>
                            <group>
                                <field name="v_totalqty"  />
                                <field name="v_totalvalue"  />
                                <field name="v_sap_docnum"  />
                                <field name="v_sap_id"  invisible="1"/>
                                <field name="v_sap_status"  invisible="1" />
                            </group>
                        </group>
                        

                        <notebook>
                            <page string="ITem">
                                <field name="opname_line_ids">
                                    <tree editable="bottom">
                                        <field name="account" options="{'no_create': True, 'no_create_edit':True}" />
                                        <field name="linenum" invisible="1"/>
                                        <field name="itemcode" invisible="1" />
                                        <field name="itemname" invisible="1" />
                                        <field name="print_astotal" />
                                        <field name="print_indetail" />
                                        <field name="debit" sum="total_debit" />
                                        <field name="credit" sum="total_credit" />
                                        <field name="depart_id" options="{'no_create': True, 'no_create_edit':True}" />
                                        <field name="orccode2" invisible="1"/>
                                        <field name="divisi_id" options="{'no_create': True, 'no_create_edit':True}" />
                                        <field name="profitcode" invisible="1"/>
                                        <field name="biaya_id" options="{'no_create': True, 'no_create_edit':True}" />
                                        <field name="biaya" invisible="1"/>
                                        <field name="amount" invisible="1"/>

                                    </tree>
                                </field>
                            </page>
                            <page string="Json Sending">
                                <field name="json_param" />
                            </page>
                            <page string="Json Result">
                                <field name="json_result" />
                            </page>

                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="cnwls_wms_opname_search">
            <field name="name">cnwls.wms.opname.search</field>
            <field name="model">cnwls.wms.opname</field>
            <field name="arch" type="xml">
                <search string="JE Search">
                    <filter string="Approved" domain="[('status','=', 'post')]" name="je_approved" />
                    <filter string="Waiting Approved" domain="[('status','=', 'pending')]" name="je_waiting" />
                    <field name="name" />
                    <field name="u_trans_no" />
                    <field name="remarks2" />
                    <field name="bpartner_name" />
                    <field name="U_TransType" />
                    <field name="refdate"/>

                    <filter string="refdate" name="group_refdate" domain="[]" context="{'group_by':'refdate'}"/>
                    <filter string="U_TransType" name="group_transtype" domain="[]" context="{'group_by':'U_TransType'}"/>
                </search>
            </field>
        </record>
        <!-- actions opening views on models -->

        <record model="ir.actions.act_window" id="cnwls_wms_opname_action">
            <field name="name">Jurnal Entry</field>
            <field name="res_model">cnwls.wms.opname</field>
            <field name="view_mode">tree,form</field>
        </record>

    </data>
</odoo>
